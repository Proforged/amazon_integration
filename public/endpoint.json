{
  "name": "amazon",
  "display": "Amazon",
  "description": "Gets orders from an Amazon seller account to import into a Spree store",
  "consumers": [
  {
    "name": "get_orders",
    "path": "/get_orders",
    "description": "Get orders from Amazon",
    "requires": {
      "paramaters": [
      {
        "name": "amazon.aws_access_key",
        "value": "AWS Access Key ID"
      },
      {
        "name": "amazon.secret_key",
        "value": "AWS Secret Key"
      },
      {
        "name": "amazon.seller_id",
        "value": "Amazon Seller ID"
      },
      {
        "name": "amazon.marketplace_id",
        "value": "Amazon Marketplace ID"
      },
      {
        "name": "amazon.last_updated_after",
        "value": "Date of last order imported"
      }
      ]
    },
    "recommends": {
      "keys": ["amazon:order:poll"]
    },
    "produces": {
      "messages": [
      {
        "message": "spree:import:order",
        "schema": "/spree.import.order.json"
      }
      ]
    }
  },
  {
    "name": "get_order_by_number",
    "path": "/get_order_by_number",
    "description": "Get order by number from Amazon",
    "requires": {
      "amazon_order_id": "Amazon Order ID",
      "paramaters": [
      {
        "name": "amazon.aws_access_key",
        "value": "AWS Access Key ID"
      },
      {
        "name": "amazon.secret_key",
        "value": "AWS Secret Key"
      },
      {
        "name": "amazon.seller_id",
        "value": "Amazon Seller ID"
      },
      {
        "name": "amazon.marketplace_id",
        "value": "Amazon Marketplace ID"
      }
      ]
    },
    "recommends": {
      "keys": ["amazon:import:by_number"]
    },
    "produces": {
      "messages": [
      {
        "message": "spree:import:order",
        "schema": "/spree.import.order.json"
      }
      ]
    }
  }
  ]
}